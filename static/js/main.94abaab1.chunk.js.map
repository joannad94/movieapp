{"version":3,"sources":["components/Search.js","components/Result.js","components/Results.js","components/Popup.js","App.js","index.js"],"names":["Search","handleInput","search","className","type","placeholder","onChange","onKeyPress","Result","title","image","popularity","vote_count","openPopup","result","onClick","id","classNme","src","alt","Math","round","Results","results","map","key","poster_path","Popup","selected","closePopup","countries","production_countries","country","name","genres","genre","join","overview","href","imdb_id","target","App","useState","query","setQuery","setResults","setSelected","page","setPage","sort","setSort","apikey","process","length","Button","variant","revResults","reverse","upResults","a","b","e","value","axios","then","data","nextPage","updatedResults","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iVAkBeA,G,MAfA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,YAAaC,EAAa,EAAbA,OAC7B,OAEE,6BAASC,UAAU,kBACjB,2BACEC,KAAK,OACLD,UAAU,YACVE,YAAY,kBACZC,SAAUL,EACVM,WAAYL,O,MCaLM,MAtBf,YAA8E,IAA5DC,EAA2D,EAA3DA,MAAOC,EAAoD,EAApDA,MAAOC,EAA6C,EAA7CA,WAAYC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,UAAWC,EAAU,EAAVA,OACjE,OACE,yBAAKX,UAAU,SAASY,QAAS,kBAAMF,EAAUC,EAAOE,MAEtD,6BAASb,UAAU,UACnB,yBACEc,SAAS,MACTC,IAAG,0CAAqCR,GACxCS,IAAI,iCAEN,4BAAKV,IAGL,6BAASN,UAAU,QACnB,qDAAiBiB,KAAKC,MAAMV,GAA5B,MACA,qDAAmBC,M,MCMVU,MApBf,YAA0C,IAAvBC,EAAsB,EAAtBA,QAASV,EAAa,EAAbA,UAC1B,OACE,6BAASV,UAAU,WAChBoB,EAAQC,KAAI,SAACV,GACZ,OACE,kBAAC,EAAD,CACEL,MAAOK,EAAOL,MACdgB,IAAKX,EAAOE,GACZN,MAAOI,EAAOY,YACdf,WAAYG,EAAOH,WACnBC,WAAYE,EAAOF,WACnBE,OAAQA,EACRD,UAAWA,S,MC6BRc,MA1Cf,YAA0C,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,WACnBC,EAAYF,EAASG,qBAAqBP,KAAI,SAACQ,GACnD,OAAOA,EAAQC,QAGXC,EAASN,EAASM,OAAOV,KAAI,SAACW,GAClC,OAAOA,EAAMF,QAEf,OACE,6BAAS9B,UAAU,SACjB,yBAAKA,UAAU,WACb,6BAASA,UAAU,QACjB,4BAAKyB,EAASnB,OACd,8CACA,0BAAMN,UAAU,QAAQ2B,GACxB,sCACA,0BAAM3B,UAAU,QAAQ+B,EAAOE,KAAK,OAGtC,yBAAKjC,UAAU,QACb,yBACEe,IAAG,0CAAqCU,EAASF,aACjDP,IAAI,WAEN,2BAAIS,EAASS,UACb,8BAEF,uBACEC,KAAI,qCAAgCV,EAASW,QAAzC,KACJC,OAAO,SAFT,kBAOA,4BAAQrC,UAAU,QAAQY,QAASc,GAAnC,c,cCgGOY,MA5Hf,WAAgB,IAAD,EACaC,mBAAS,IADtB,mBACNC,EADM,KACCC,EADD,OAEiBF,mBAAS,IAF1B,mBAENnB,EAFM,KAEGsB,EAFH,OAGmBH,mBAAS,MAH5B,mBAGNd,EAHM,KAGIkB,EAHJ,OAIWJ,mBAAS,GAJpB,mBAINK,EAJM,KAIAC,EAJA,OAKWN,mBAAS,GALpB,mBAKNO,EALM,KAKAC,EALA,KAOPC,EAAM,UAAMC,oCAyElB,OACE,yBAAKjD,UAAU,OACb,gCACE,oDACoB,wCAItB,8BACGoB,EAAQ8B,OAAS,GAChB,6BAASlD,UAAU,QACjB,6CACA,6BAEA,kBAACmD,EAAA,EAAD,CACEnD,UAAU,aACVoD,QAAQ,mBACRxC,QAnDa,WACvB,GAAIQ,GAAWA,EAAQ8B,OAAS,EAC9B,GAAIJ,EAAM,CACR,IAAMO,EAAajC,EAAQkC,UAE3BZ,EAAWW,GACXN,EAAQ,CAAED,MAAO,QACZ,CACL,IAAMS,EAAYnC,EAAQ0B,MAAK,SAACU,EAAGC,GAAJ,OAC7BD,EAAEhD,WAAaiD,EAAEjD,YAAc,EAAIgD,EAAEhD,WAAaiD,EAAEjD,WAAa,EAAI,KAEvEkC,EAAWa,GACXR,EAAQD,MAoCJ,yBAQA,kBAACK,EAAA,EAAD,CACEnD,UAAU,QACVoD,QAAQ,mBACRxC,QA1CQ,WAClB,GAAIQ,GAAWA,EAAQ8B,OAAS,EAC9B,GAAIJ,EAAM,CACR,IAAMO,EAAajC,EAAQkC,UAE3BZ,EAAWW,GACXN,EAAQ,CAAED,MAAO,QACZ,CACL,IAAMS,EAAYnC,EAAQ0B,MAAK,SAACU,EAAGC,GAAJ,OAC7BD,EAAElD,MAAQmD,EAAEnD,OAAS,EAAIkD,EAAElD,MAAQmD,EAAEnD,MAAQ,EAAI,KAEnDoC,EAAWa,GACXR,EAAQD,MA2BJ,eASJ,kBAAC,EAAD,CAAQhD,YA5FM,SAAC4D,GACnB,IAAIlB,EAAQkB,EAAErB,OAAOsB,MACrBlB,EAASD,IA0F6BzC,OAtGzB,SAAC2D,GACA,UAAVA,EAAEpC,KACJsC,IAAM,qDAAD,OACkDZ,EADlD,kBACkER,IACrEqB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACRpB,EAAWoB,EAAK1C,eAkGhB,kBAAC,EAAD,CAASA,QAASA,EAASV,UAxFf,SAACG,GACjB+C,IAAM,sCAAD,OACmC/C,EADnC,oBACiDmC,EADjD,iBAEHa,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACRnB,EAAYmB,SAsFTrC,GAAY,kBAAC,EAAD,CAAOA,SAAUA,EAAUC,WAnF3B,WACjBiB,EAAY,SAoFPvB,EAAQ8B,OAAS,GAChB,4BAAQlD,UAAU,OAAOY,QAlFb,WAClB,IAAMmD,EAAWnB,EAAO,EACxBgB,IAAM,qDAAD,OACkDZ,EADlD,kBACkER,EADlE,iBACgFuB,IACnFF,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACFE,EAAc,sBAAO5C,GAAP,YAAmB0C,EAAK1C,UAC5CsB,EAAWsB,GACXnB,EAAQkB,QA2EJ,6B,YCxHVE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.94abaab1.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Search.css\";\n\nconst Search = ({ handleInput, search }) => {\n  return (\n    \n    <section className=\"searchbox-wrap\">\n      <input\n        type=\"text\"\n        className=\"searchbox\"\n        placeholder=\"szukaj filmu...\"\n        onChange={handleInput}\n        onKeyPress={search}\n      />\n    </section>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport \"./Result.css\";\n\nfunction Result({ title, image, popularity, vote_count, openPopup, result }) {\n  return (\n    <div className=\"result\" onClick={() => openPopup(result.id)}>\n      \n      <section className=\"poster\">\n      <img\n        classNme=\"img\"\n        src={`https://image.tmdb.org/t/p/w300/${image}`}\n        alt=\"ten film nie posiada plakatu\"\n      />\n      <h3>{title}</h3>\n      </section>\n      \n      <section className=\"info\">\n      <p>popularność: {Math.round(popularity)} %</p>\n      <p>liczba głosów: {vote_count}</p>\n      </section>\n\n    </div>\n  );\n}\n\nexport default Result;\n","import React from \"react\";\nimport Result from \"./Result\";\nimport \"./Results.css\";\n\nfunction Results({ results, openPopup }) {\n  return (\n    <section className=\"results\">\n      {results.map((result) => {\n        return (\n          <Result\n            title={result.title}\n            key={result.id}\n            image={result.poster_path}\n            popularity={result.popularity}\n            vote_count={result.vote_count}\n            result={result}\n            openPopup={openPopup}\n          />\n        );\n      })}\n    </section>\n  );\n}\n\nexport default Results;\n","import React from \"react\";\nimport \"./Popup.css\";\n\nfunction Popup({ selected, closePopup }) {\n  const countries = selected.production_countries.map((country) => {\n    return country.name;\n  });\n\n  const genres = selected.genres.map((genre) => {\n    return genre.name;\n  });\n  return (\n    <section className=\"popup\">\n      <div className=\"content\">\n        <section className=\"name\">\n          <h1>{selected.title}</h1>\n          <p>Kraj produkcji:</p>\n          <span className=\"info\">{countries}</span>\n          <p>Rodzaj:</p>\n          <span className=\"info\">{genres.join(\" \")}</span>\n        </section>\n\n        <div className=\"plot\">\n          <img\n            src={`https://image.tmdb.org/t/p/w200/${selected.poster_path}`}\n            alt=\"poster\"\n          />\n          <p>{selected.overview}</p>\n          <br />\n        </div>\n        <a\n          href={`https://www.imdb.com/title/${selected.imdb_id}/`}\n          target=\"blank\"\n        >\n          Zobacz na IMDB\n        </a>\n\n        <button className=\"close\" onClick={closePopup}>\n          Zamknij\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Search from \"./components/Search\";\nimport Results from \"./components/Results\";\nimport Popup from \"./components/Popup\";\nimport { Button } from \"react-bootstrap\";\nimport \"./App.css\";\n\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [page, setPage] = useState(1);\n  const [sort, setSort] = useState(1);\n\n  const apikey = `${process.env.REACT_APP_API_KEY}`;\n\n  const search = (e) => {\n    if (e.key === \"Enter\") {\n      axios(\n        `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${query}`\n      ).then(({ data }) => {\n        setResults(data.results);\n      });\n    }\n  };\n\n  const handleInput = (e) => {\n    let query = e.target.value;\n    setQuery(query);\n  };\n\n  const openPopup = (id) => {\n    axios(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${apikey}&language=pl`\n    ).then(({ data }) => {\n      setSelected(data);\n    });\n  };\n  const closePopup = () => {\n    setSelected(null);\n  };\n\n  const getNextPage = () => {\n    const nextPage = page + 1;\n    axios(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${query}&page=${nextPage}`\n    ).then(({ data }) => {\n      const updatedResults = [...results, ...data.results];\n      setResults(updatedResults);\n      setPage(nextPage);\n    });\n  };\n\n  const sortByPopularity = () => {\n    if (results && results.length > 0) {\n      if (sort) {\n        const revResults = results.reverse();\n\n        setResults(revResults);\n        setSort({ sort: -1 });\n      } else {\n        const upResults = results.sort((a, b) =>\n          a.popularity < b.popularity ? -1 : a.popularity > b.popularity ? 1 : 0\n        );\n        setResults(upResults);\n        setSort(sort);\n      }\n    }\n  };\n\n  const sortByTitle = () => {\n    if (results && results.length > 0) {\n      if (sort) {\n        const revResults = results.reverse();\n\n        setResults(revResults);\n        setSort({ sort: -1 });\n      } else {\n        const upResults = results.sort((a, b) =>\n          a.title < b.title ? -1 : a.title > b.title ? 1 : 0\n        );\n        setResults(upResults);\n        setSort(sort);\n      }\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>\n          Szukajka filmów z <span>IMDb</span>\n          \n        </h1>\n      </header>\n      <main>\n        {results.length > 0 && (\n          <section className=\"sort\">\n            <span>Sortuj wg: </span>\n            <br />\n\n            <Button\n              className=\"popularity\"\n              variant=\"out-line-primary\"\n              onClick={sortByPopularity}\n            >\n              Popularność\n            </Button>\n\n            <Button\n              className=\"title\"\n              variant=\"out-line-promary\"\n              onClick={sortByTitle}\n            >\n              Tytuł\n            </Button>\n          </section>\n        )}\n        <Search handleInput={handleInput} search={search} />\n        <Results results={results} openPopup={openPopup} />\n\n        {selected && <Popup selected={selected} closePopup={closePopup} />}\n\n        {results.length > 0 && (\n          <button className='next' onClick={getNextPage}>Pokaż więcej</button>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
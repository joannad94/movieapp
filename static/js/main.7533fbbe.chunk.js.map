{"version":3,"sources":["components/Search.js","components/Result.js","components/Results.js","components/Popup.js","App.js","index.js"],"names":["Search","handleInput","search","className","type","placeholder","onChange","onKeyPress","Result","title","image","popularity","vote_count","openPopup","result","onClick","id","src","alt","Math","round","Results","results","map","key","poster_path","Popup","selected","closePopup","countries","production_countries","country","name","genres","genre","join","overview","href","imdb_id","target","App","useState","query","setQuery","setResults","setSelected","page","setPage","sort","setSort","apikey","process","e","value","axios","then","data","length","Button","variant","revResults","reverse","upResults","a","b","nextPage","updatedResults","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7533fbbe.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Search.css\";\n\nconst Search = ({ handleInput, search }) => {\n  return (\n    \n    <section className=\"searchbox-wrap\">\n      <input\n        type=\"text\"\n        className=\"searchbox\"\n        placeholder=\"szukaj filmu...\"\n        onChange={handleInput}\n        onKeyPress={search}\n      />\n    </section>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport \"./Result.css\";\n\nfunction Result({ title, image, popularity, vote_count, openPopup, result }) {\n  return (\n    <div className=\"result\" onClick={() => openPopup(result.id)}>\n      <div className=\"poster\">\n        {image ? (\n          <img\n            className=\"img\"\n            src={`https://image.tmdb.org/t/p/w300/${image}`}\n            alt=\"plakat\"\n          />\n        ) : (\n          <img\n            className=\"noimg\"\n            src=\"/movieapp/no-image.jpg\"\n            alt=\"brak zdjęcia\"\n          />\n        )}\n        <h3>{title}</h3>\n      </div>\n\n      <div className=\"info\">\n        <p>popularność: {Math.round(popularity)} %</p>\n        <p>liczba głosów: {vote_count}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Result;\n","import React from \"react\";\nimport Result from \"./Result\";\nimport \"./Results.css\";\n\nfunction Results({ results, openPopup }) {\n  return (\n    <section className=\"results\">\n      {results.map((result) => {\n        return (\n          <Result\n            title={result.title}\n            key={result.id}\n            image={result.poster_path}\n            popularity={result.popularity}\n            vote_count={result.vote_count}\n            result={result}\n            openPopup={openPopup}\n          />\n        );\n      })}\n    </section>\n  );\n}\n\nexport default Results;\n","import React from \"react\";\nimport \"./Popup.css\";\n\nfunction Popup({ selected, closePopup }) {\n  const countries = selected.production_countries.map((country) => {\n    return country.name;\n  });\n\n  const genres = selected.genres.map((genre) => {\n    return genre.name;\n  });\n  return (\n    <section className=\"popup\">\n      <div className=\"content\">\n        <section className=\"name\">\n          <h1>{selected.title}</h1>\n          <p>Kraj produkcji:</p>\n          <span className=\"info\">{countries}</span>\n          <p>Rodzaj:</p>\n          <span className=\"info\">{genres.join(\" \")}</span>\n        </section>\n\n        <div className=\"plot\">\n          <img\n            src={`https://image.tmdb.org/t/p/w200/${selected.poster_path}`}\n            alt=\"poster\"\n          />\n          <p>{selected.overview}</p>\n          <br />\n        </div>\n        <a\n          href={`https://www.imdb.com/title/${selected.imdb_id}/`}\n          target=\"blank\"\n        >\n          Zobacz na IMDB\n        </a>\n\n        <button className=\"close\" onClick={closePopup}>\n          Zamknij\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Search from \"./components/Search\";\nimport Results from \"./components/Results\";\nimport Popup from \"./components/Popup\";\nimport { Button } from \"react-bootstrap\";\nimport \"./App.css\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [page, setPage] = useState(1);\n  const [sort, setSort] = useState(1);\n\n  const apikey = `${process.env.REACT_APP_API_KEY}`;\n\n  const search = (e) => {\n    if (e.key === \"Enter\") {\n      axios(\n        `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${query}`\n      ).then(({ data }) => {\n        setResults(data.results);\n      });\n    }\n  };\n\n  const handleInput = (e) => {\n    let query = e.target.value;\n    setQuery(query);\n  };\n\n  const openPopup = (id) => {\n    axios(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${apikey}&language=pl`\n    ).then(({ data }) => {\n      setSelected(data);\n    });\n  };\n  const closePopup = () => {\n    setSelected(null);\n  };\n\n  const getNextPage = () => {\n    const nextPage = page + 1;\n    axios(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${query}&page=${nextPage}`\n    ).then(({ data }) => {\n      const updatedResults = [...results, ...data.results];\n      setResults(updatedResults);\n      setPage(nextPage);\n    });\n  };\n\n  const sortByPopularity = () => {\n    if (results && results.length > 0) {\n      if (sort) {\n        const revResults = results.reverse();\n\n        setResults(revResults);\n        setSort({ sort: -1 });\n      } else {\n        const upResults = results.sort((a, b) =>\n          a.popularity < b.popularity ? -1 : a.popularity > b.popularity ? 1 : 0\n        );\n        setResults(upResults);\n        setSort(sort);\n      }\n    }\n  };\n\n  const sortByTitle = () => {\n    if (results && results.length > 0) {\n      if (sort) {\n        const revResults = results.reverse();\n\n        setResults(revResults);\n        setSort({ sort: -1 });\n      } else {\n        const upResults = results.sort((a, b) =>\n          a.title < b.title ? -1 : a.title > b.title ? 1 : 0\n        );\n        setResults(upResults);\n        setSort(sort);\n      }\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>\n          Szukajka filmów z <span>IMDb</span>\n        </h1>\n      </header>\n      <main>\n        <Search handleInput={handleInput} search={search} />\n\n        {results.length > 0 && (\n          <section className=\"sort\">\n            <span>Sortuj wg: </span>\n            <br />\n\n            <Button\n              className=\"popularity\"\n              variant=\"out-line-primary\"\n              onClick={sortByPopularity}\n            >\n              Popularność\n            </Button>\n\n            <Button\n              className=\"title\"\n              variant=\"out-line-promary\"\n              onClick={sortByTitle}\n            >\n              Tytuł\n            </Button>\n          </section>\n        )}\n\n        <Results results={results} openPopup={openPopup} />\n\n        {selected && <Popup selected={selected} closePopup={closePopup} />}\n\n        {results.length > 0 && (\n          <button className=\"next\" onClick={getNextPage}>\n            Pokaż więcej\n          </button>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
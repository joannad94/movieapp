{"version":3,"sources":["components/Search.js","components/Result.js","components/Results.js","components/Popup.js","App.js","index.js"],"names":["Search","getMoviesFromApi","searchInput","useRef","handleInput","e","key","target","value","className","type","ref","placeholder","onChange","onKeyPress","onClick","current","Result","title","image","popularity","vote_count","openPopup","result","id","src","alt","Math","round","Results","results","map","poster_path","Popup","selected","closePopup","countries","production_countries","country","name","genres","genre","join","overview","href","imdb_id","App","useState","query","setQuery","setResults","setSelected","page","setPage","sort","setSort","apikey","process","sortMoviesBy","revResults","reverse","sortedResults","a","b","localeCompare","Container","inputQuery","axios","then","data","length","Button","variant","nextPage","updatedResults","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42668cfc.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\nimport \"./Search.css\";\n\nconst Search = ({ getMoviesFromApi }) => {\n  const searchInput = useRef(null);\n\n  const handleInput = (e) => {\n    if (e.key === \"Enter\") {\n      getMoviesFromApi(e.target.value);\n    }\n  };\n  return (\n    <div className=\"searchbox-wrap d-flex justify-content-center align-items-center\">\n      <input\n        type=\"text\"\n        ref={searchInput}\n        className=\"searchbox\"\n        placeholder=\"szukaj filmu...\"\n        onChange={handleInput}\n        onKeyPress={handleInput}\n      />\n      <button\n        className=\"searchclick\"\n        onClick={() => getMoviesFromApi(searchInput?.current.value)}\n      >\n        <i className=\"fas fa-search\"></i>\n      </button>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport \"./Result.css\";\n\nfunction Result({ title, image, popularity, vote_count, openPopup, result }) {\n  return (\n    <div className=\"result\" onClick={() => openPopup(result.id)}>\n      <div className=\"poster\">\n        {image ? (\n          <img\n            className=\"img\"\n            src={`https://image.tmdb.org/t/p/w300/${image}`}\n            alt=\"plakat\"\n          />\n        ) : (\n          <img\n            className=\"noimg\"\n            src=\"/movieapp/no-image.jpg\"\n            alt=\"brak zdjęcia\"\n          />\n        )}\n        <h3>{title}</h3>\n      </div>\n\n      <div className=\"info\">\n        <p>popularność: {Math.round(popularity)} %</p>\n        <p>liczba głosów: {vote_count}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Result;\n","import React from \"react\";\nimport Result from \"./Result\";\nimport \"./Results.css\";\n\nfunction Results({ results, openPopup }) {\n  return (\n    <div className=\"results\">\n      {results.map((result) => {\n        return (\n          <Result\n            title={result.title}\n            key={result.id}\n            image={result.poster_path}\n            popularity={result.popularity}\n            vote_count={result.vote_count}\n            result={result}\n            openPopup={openPopup}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Results;\n","import React from \"react\";\nimport \"./Popup.css\";\n\nfunction Popup({ selected, closePopup }) {\n  const countries = selected.production_countries.map((country) => {\n    return country.name;\n  });\n\n  const genres = selected.genres.map((genre) => {\n    return genre.name;\n  });\n  return (\n    <section className=\"popup\">\n      <div className=\"content\">\n        <section className=\"name\">\n          <h1>{selected.title}</h1>\n          <p>Kraj produkcji:</p>\n          <span className=\"info\">{countries}</span>\n          <p>Rodzaj:</p>\n          <span className=\"info\">{genres.join(\" \")}</span>\n        </section>\n\n        <div className=\"plot\">\n          <img\n            src={`https://image.tmdb.org/t/p/w200/${selected.poster_path}`}\n            alt=\"poster\"\n          />\n          <p>{selected.overview}</p>\n          <br />\n        </div>\n        <a\n          href={`https://www.imdb.com/title/${selected.imdb_id}/`}\n          target=\"blank\"\n        >\n          Zobacz na IMDB\n        </a>\n\n        <button className=\"close\" onClick={closePopup}>\n          Zamknij\n        </button>\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Search from \"./components/Search\";\nimport Results from \"./components/Results\";\nimport Popup from \"./components/Popup\";\nimport { Button, Container } from \"react-bootstrap\";\nimport \"./App.css\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [page, setPage] = useState(1);\n  const [sort, setSort] = useState(0);\n\n  const apikey = `${process.env.REACT_APP_API_KEY}`;\n\n  const getMoviesFromApi = (inputQuery) => {\n    setQuery(inputQuery);\n\n    axios(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${inputQuery}`\n    ).then(({ data }) => {\n      setResults(data.results);\n    });\n  };\n\n  const openPopup = (id) => {\n    axios(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${apikey}&language=pl`\n    ).then(({ data }) => {\n      setSelected(data);\n    });\n  };\n\n  const closePopup = () => {\n    setSelected(null);\n  };\n\n  const getNextPage = () => {\n    const nextPage = page + 1;\n    axios(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apikey}&query=${query}&page=${nextPage}`\n    ).then(({ data }) => {\n      const updatedResults = [...results, ...data.results];\n      setResults(updatedResults);\n      setPage(nextPage);\n    });\n  };\n\n  const sortMoviesBy = (type) => {\n    if (sort) {\n      const revResults = [...results].reverse();\n      setResults(revResults);\n      setSort(0);\n    } else {\n      const sortedResults = [...results].sort((a, b) =>\n        typeof a[type] === \"string\"\n          ? a[type].localeCompare(b[type])\n          : b[type] - a[type]\n      );\n\n      setResults(sortedResults);\n      setSort(1);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>\n          Szukajka filmów z <span>IMDb</span>\n        </h1>\n      </header>\n      <main>\n        <Container>\n          <Search getMoviesFromApi={getMoviesFromApi} />\n\n          {results.length > 0 && (\n            <div className=\"sort\">\n              <span>Sortuj wg: </span>\n              <br />\n\n              <Button\n                className=\"popularity\"\n                variant=\"out-line-primary\"\n                onClick={() => sortMoviesBy(\"popularity\")}\n              >\n                Popularność\n              </Button>\n\n              <Button\n                className=\"title\"\n                variant=\"out-line-promary\"\n                onClick={() => sortMoviesBy(\"title\")}\n              >\n                Tytuł\n              </Button>\n            </div>\n          )}\n\n          <Results results={results} openPopup={openPopup} />\n\n          {selected && <Popup selected={selected} closePopup={closePopup} />}\n\n          {results.length > 0 && (\n            <button className=\"next\" onClick={getNextPage}>\n              Pokaż więcej\n            </button>\n          )}\n        </Container>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}